apiVersion: v1
kind: Namespace
metadata:
  labels:
    name: metallb-system
  name: metal-lb-metallb-system-ns-c07783ff
  namespace: metallb-system
---
apiVersion: v1
data:
  config: |
    address-pools:
      - name: home-office
        protocol: layer2
        addresses:
          - 192.168.1.229-192.168.1.251
kind: ConfigMap
metadata:
  name: metallb-config
  namespace: metallb-system
---
apiVersion: helm.fluxcd.io/v1
kind: HelmRelease
metadata:
  annotations:
    fluxcd.io/automated: "false"
    fluxcd.io/ignore: "false"
  name: metallb
  namespace: metallb-system
spec:
  chart:
    name: metallb
    repository: https://kubernetes-charts.storage.googleapis.com/
    version: 0.12.0
  releaseName: metallb
  values:
    existingConfig: metallb-config
    prometheus:
      prometheusRule:
        enabled: true
      serviceMonitor:
        enabled: true
